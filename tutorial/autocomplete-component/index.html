<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Ember.js - Tutorial: An Autocomplete Component</title>
    <meta property="st:title" content="Tutorial: An Autocomplete Component" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../images/favicon.png" rel="icon" type="image/png" />
    <!--[if lte IE 7 ]><link href="../../stylesheets/fonts/fontello-ie7.css" rel="stylesheet" /><![endif]-->
    <link href="../../stylesheets/application.css" rel="stylesheet" />

    <!-- This TypeKit account is managed by @wifelette. Contact her with any issues. -->
    <script src="https://use.typekit.net/stz3kpn.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    
  </head>

  <body class="guides tutorial tutorial_autocomplete-component tutorial_autocomplete-component_index">

    <!--[if lt IE 9]>
      <script src="../../javascripts/common-old-ie.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script src="../../javascripts/common-modern.js"></script>
    <!--<![endif]-->

    <header class="header">
  <nav role="navigation" aria-label="main">
    <ul class="header-nav container">
      <li class="header-logo">
        <a href="http://emberjs.com/"><span class="visually-hidden">Ember homepage</span></a>
      </li>
      <li>
        <a href="http://emberjs.com/">About</a>
      </li>
      <li class="active" aria-label="You are here">
        <a href="/">Guides</a>
      </li>
      <li>
        <a href="http://emberjs.com/api">API</a>
      </li>
      <li>
        <a href="http://emberjs.com/community">Community</a>
      </li>
      <li>
        <a href="http://emberjs.com/blog">Blog</a>
      </li>
      <li>
        <a href="http://emberjs.com/builds">Builds</a>
      </li>

      <li class="header-search">
        <form>
          <input type="text" id="st-search-input" class="st-search-input" placeholder="Search the guides"/>
        </form>
        <div id="st-results-container"></div>
      </li>
    </ul>
  </nav>
</header>


    

    <main class="container">
      <aside class="sidebar">
  <label for="version-select" class="visually-hidden">Guides version</label>
  <select class="version-select" id="version-select" style="width: 100%"></select>

  <input id="toc-toggle" class="toc-toggle visually-hidden" type="checkbox" />
  <label for="toc-toggle">Table of Contents <span class="visually-hidden">toggle</span></label>

  <nav class="toc-container" aria-label="table of contents">
    <ol class='toc-level-0 selected'><li class='toc-level-0 '><a href="#">Getting Started</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../getting-started/quick-start/">Quick Start</a></li><li class='toc-level-1 '><a href="../../getting-started/">Installing Ember</a></li><li class='toc-level-1 '><a href="../../getting-started/core-concepts/">Core Concepts</a></li></ol></li><li class='toc-level-0 selected'><a href="#">Tutorial</a><ol class='toc-level-1 selected'><li class='toc-level-1 '><a href="../ember-cli/">Creating a new app</a></li><li class='toc-level-1 '><a href="../ember-addons/">Using Ember Addons</a></li><li class='toc-level-1 '><a href="../routes-and-templates/">Routes and Templates</a></li><li class='toc-level-1 '><a href="../model-hook/">The Model Hook</a></li><li class='toc-level-1 '><a href="../ember-data/">Ember Data</a></li><li class='toc-level-1 '><a href="../simple-component/">A Simple Component</a></li><li class='toc-level-1 '><a href="../hbs-helper/">Handlebars Helper</a></li><li class='toc-level-1 selected'><a href="./">An Autocomplete Component</a></li><li class='toc-level-1 '><a href="../deploying/">Deploying</a></li></ol></li><li class='toc-level-0 '><a href="#">The Object Model</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../object-model/">Objects in Ember</a></li><li class='toc-level-1 '><a href="../../object-model/classes-and-instances/">Classes and Instances</a></li><li class='toc-level-1 '><a href="../../object-model/reopening-classes-and-instances/">Reopening Classes and Instances</a></li><li class='toc-level-1 '><a href="../../object-model/computed-properties/">Computed Properties</a></li><li class='toc-level-1 '><a href="../../object-model/computed-properties-and-aggregate-data/">Computed Properties and Aggregate Data</a></li><li class='toc-level-1 '><a href="../../object-model/observers/">Observers</a></li><li class='toc-level-1 '><a href="../../object-model/bindings/">Bindings</a></li><li class='toc-level-1 '><a href="../../object-model/enumerables/">Enumerables</a></li></ol></li><li class='toc-level-0 '><a href="#">Routing</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../routing/">Introduction</a></li><li class='toc-level-1 '><a href="../../routing/defining-your-routes/">Defining Your Routes</a></li><li class='toc-level-1 '><a href="../../routing/specifying-a-routes-model/">Specifying a Route's Model</a></li><li class='toc-level-1 '><a href="../../routing/rendering-a-template/">Rendering a Template</a></li><li class='toc-level-1 '><a href="../../routing/redirection/">Redirecting</a></li><li class='toc-level-1 '><a href="../../routing/preventing-and-retrying-transitions/">Preventing and Retrying Transitions</a></li><li class='toc-level-1 '><a href="../../routing/loading-and-error-substates/">Loading / Error Substates</a></li><li class='toc-level-1 '><a href="../../routing/query-params/">Query Parameters</a></li><li class='toc-level-1 '><a href="../../routing/asynchronous-routing/">Asynchronous Routing</a></li></ol></li><li class='toc-level-0 '><a href="#">Templates</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../templates/handlebars-basics/">Handlebars Basics</a></li><li class='toc-level-1 '><a href="../../templates/conditionals/">Conditionals</a></li><li class='toc-level-1 '><a href="../../templates/displaying-a-list-of-items/">Displaying a List of Items</a></li><li class='toc-level-1 '><a href="../../templates/displaying-the-keys-in-an-object/">Displaying the Keys in an Object</a></li><li class='toc-level-1 '><a href="../../templates/binding-element-attributes/">Binding Element Attributes</a></li><li class='toc-level-1 '><a href="../../templates/links/">Links</a></li><li class='toc-level-1 '><a href="../../templates/actions/">Actions</a></li><li class='toc-level-1 '><a href="../../templates/input-helpers/">Input Helpers</a></li><li class='toc-level-1 '><a href="../../templates/development-helpers/">Development Helpers</a></li><li class='toc-level-1 '><a href="../../templates/writing-helpers/">Writing Helpers</a></li></ol></li><li class='toc-level-0 '><a href="#">Components</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../components/defining-a-component/">Defining a Component</a></li><li class='toc-level-1 '><a href="../../components/the-component-lifecycle/">The Component Lifecycle</a></li><li class='toc-level-1 '><a href="../../components/passing-properties-to-a-component/">Passing Properties to a Component</a></li><li class='toc-level-1 '><a href="../../components/wrapping-content-in-a-component/">Wrapping Content in a Component</a></li><li class='toc-level-1 '><a href="../../components/customizing-a-components-element/">Customizing a Component's Element</a></li><li class='toc-level-1 '><a href="../../components/block-params/">Using Block Params</a></li><li class='toc-level-1 '><a href="../../components/handling-events/">Handling Events</a></li><li class='toc-level-1 '><a href="../../components/triggering-changes-with-actions/">Triggering Changes with Actions</a></li></ol></li><li class='toc-level-0 '><a href="#">Controllers</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../controllers/">Introduction</a></li></ol></li><li class='toc-level-0 '><a href="#">Models</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../models/">Introduction</a></li><li class='toc-level-1 '><a href="../../models/defining-models/">Defining Models</a></li><li class='toc-level-1 '><a href="../../models/finding-records/">Finding Records</a></li><li class='toc-level-1 '><a href="../../models/creating-updating-and-deleting-records/">Creating, Updating and Deleting</a></li><li class='toc-level-1 '><a href="../../models/relationships/">Relationships</a></li><li class='toc-level-1 '><a href="../../models/pushing-records-into-the-store/">Pushing Records into the Store</a></li><li class='toc-level-1 '><a href="../../models/handling-metadata/">Handling Metadata</a></li><li class='toc-level-1 '><a href="../../models/customizing-adapters/">Customizing Adapters</a></li><li class='toc-level-1 '><a href="../../models/customizing-serializers/">Customizing Serializers</a></li></ol></li><li class='toc-level-0 '><a href="#">Application Concerns</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../applications/applications-and-instances/">Applications and Instances</a></li><li class='toc-level-1 '><a href="../../applications/dependency-injection/">Dependency Injection</a></li><li class='toc-level-1 '><a href="../../applications/initializers/">Initializers</a></li><li class='toc-level-1 '><a href="../../applications/services/">Services</a></li><li class='toc-level-1 '><a href="../../applications/run-loop/">The Run Loop</a></li></ol></li><li class='toc-level-0 '><a href="#">Testing</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../testing/">Introduction</a></li><li class='toc-level-1 '><a href="../../testing/acceptance/">Acceptance Tests</a></li><li class='toc-level-1 '><a href="../../testing/unit-testing-basics/">Unit Testing Basics</a></li><li class='toc-level-1 '><a href="../../testing/testing-components/">Testing Components</a></li><li class='toc-level-1 '><a href="../../testing/testing-controllers/">Testing Controllers</a></li><li class='toc-level-1 '><a href="../../testing/testing-routes/">Testing Routes</a></li><li class='toc-level-1 '><a href="../../testing/testing-models/">Testing Models</a></li></ol></li><li class='toc-level-0 '><a href="#">Ember Inspector</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../ember-inspector/installation/">Installing the Inspector</a></li><li class='toc-level-1 '><a href="../../ember-inspector/object-inspector/">Object Inspector</a></li><li class='toc-level-1 '><a href="../../ember-inspector/view-tree/">The View Tree</a></li><li class='toc-level-1 '><a href="../../ember-inspector/routes/">Inspecting Routes</a></li><li class='toc-level-1 '><a href="../../ember-inspector/data/">Data Tab</a></li><li class='toc-level-1 '><a href="../../ember-inspector/deprecations/">Tackling Deprecations</a></li><li class='toc-level-1 '><a href="../../ember-inspector/info/">Library Info</a></li><li class='toc-level-1 '><a href="../../ember-inspector/promises/">Debugging Promises</a></li><li class='toc-level-1 '><a href="../../ember-inspector/container/">Inspecting Objects via the Container</a></li><li class='toc-level-1 '><a href="../../ember-inspector/render-performance/">Rendering Performance</a></li><li class='toc-level-1 '><a href="../../ember-inspector/troubleshooting/">Troubleshooting</a></li></ol></li><li class='toc-level-0 '><a href="#">Addons and Dependencies</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../addons-and-dependencies/managing-dependencies/">Managing Dependencies</a></li></ol></li><li class='toc-level-0 '><a href="#">Configuring Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../configuring-ember/configuring-your-app/">Configuring Your App</a></li><li class='toc-level-1 '><a href="../../configuring-ember/configuring-ember-cli/">Configuring Ember CLI</a></li><li class='toc-level-1 '><a href="../../configuring-ember/handling-deprecations/">Handling Deprecations</a></li><li class='toc-level-1 '><a href="../../configuring-ember/disabling-prototype-extensions/">Disabling Prototype Extensions</a></li><li class='toc-level-1 '><a href="../../configuring-ember/specifying-url-type/">Specifying the URL Type</a></li><li class='toc-level-1 '><a href="../../configuring-ember/embedding-applications/">Embedding Applications</a></li><li class='toc-level-1 '><a href="../../configuring-ember/feature-flags/">Feature Flags</a></li><li class='toc-level-1 '><a href="../../configuring-ember/debugging/">Debugging</a></li></ol></li><li class='toc-level-0 '><a href="#">Contributing to Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../contributing/adding-new-features/">Adding New Features</a></li><li class='toc-level-1 '><a href="../../contributing/repositories/">Repositories</a></li></ol></li><li class='toc-level-0 '><a href="#">Glossary</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../glossary/web-development/">Web Development</a></li></ol></li></ol>
  </nav>

  <a class="back-to-top" href="#">&#11014; Back to Top</a>
</aside>


      <article class="chapter">
        <h1>
          An Autocomplete Component
          <a href="https://github.com/emberjs/guides/edit/master/source/localizable/tutorial/autocomplete-component.md"
             target="_blank" class="edit-page icon-pencil">Edit Page</a>
        </h1>
        <hr>

        <p>As they search for a rental, users might also want to narrow their search
 to a specific city. Let&#39;s build a component that will let them search for
  properties within a city, and also suggest cities to them as they type.</p>

<p>To begin, let&#39;s generate our new component. We&#39;ll call this component 
<code>filter-listing</code>.</p>
<div class="highlight shell "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>ember g component filter-listing
</pre></td>
</tr></table>
</div></div>
<p>As before, this creates a Handlebars template 
(<code>app/templates/components/filter-listing.hbs</code>) and a JavaScript file 
(<code>app/components/filter-listing.js</code>).</p>

<p>The Handlebars template looks like this:</p>
<div class="highlight handlebars "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/templates/components/filter-listing.hbs</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="inline"><span class="inline-delimiter">{{</span><span class="attribute-name">input</span> <span class="attribute-name">value</span>=<span class="attribute-value">filter</span> <span class="attribute-name">key-up</span>=<span class="error">(</span><span class="attribute-value">action</span> <span class="error">'</span><span class="attribute-name">autoComplete</span><span class="error">'</span><span class="error">)</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">light</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">placeholder</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Search Cities</span><span class="delimiter">&quot;</span></span><span class="inline-delimiter">}}</span></span>
<span class="tag">&lt;button</span> <span class="inline"><span class="inline-delimiter">{{</span><span class="attribute-name">action</span> <span class="error">'</span><span class="attribute-name">search</span><span class="error">'</span><span class="inline-delimiter">}}</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">button light</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Search<span class="tag">&lt;/button&gt;</span>

<span class="tag">&lt;ul</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">results</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="inline"><span class="inline-delimiter">{{#</span><span class="attribute-name">each</span> <span class="attribute-name">filteredList</span> <span class="attribute-name">as</span> <span class="error">|</span><span class="attribute-name">item</span><span class="error">|</span><span class="inline-delimiter">}}</span></span>
      <span class="tag">&lt;li</span> <span class="inline"><span class="inline-delimiter">{{</span><span class="attribute-name">action</span> <span class="error">'</span><span class="attribute-name">choose</span><span class="error">'</span> <span class="attribute-name">item.city</span><span class="inline-delimiter">}}</span></span><span class="tag">&gt;</span><span class="inline"><span class="inline-delimiter">{{</span><span class="attribute-name">item.city</span><span class="inline-delimiter">}}</span></span><span class="tag">&lt;/li&gt;</span>
  <span class="inline"><span class="inline-delimiter">{{/</span><span class="attribute-name">each</span><span class="inline-delimiter">}}</span></span>
<span class="tag">&lt;/ul&gt;</span>
</pre></td>
</tr></table>
</div></div>
<p>It contains an <a href="../../templates/input-helpers"><code>{{input}}</code></a> helper
that renders as a text field where the user can type a pattern to 
filter the list of cities used in a search. The <code>value</code> property of
the <code>input</code> will be bound to the <code>filter</code> property in our component.
The <code>key-up</code> property will be bound to the <code>autoComplete</code> action.</p>

<p>It also contains a button that is bound to the <code>search</code> action in our 
component.</p>

<p>Lastly, it contains an unordered list that displays the <code>city</code> property
of each item in the <code>filteredList</code> property in our component. Clicking 
the list item will fire the <code>choose</code> action with the <code>city</code> property of
the item as a parameter, which will then populate the <code>input</code> field with
the name of that <code>city</code>.</p>

<p>Here is what the component&#39;s JavaScript looks like:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/components/filter-listing.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">filter</span>: <span class="predefined-constant">null</span>,
  <span class="key">filteredList</span>: <span class="predefined-constant">null</span>,
  <span class="key">actions</span>: {
    autoComplete() {
      <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">autoComplete</span><span class="delimiter">'</span></span>)(<span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">filter</span><span class="delimiter">'</span></span>));
      Ember.<span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">.menu .results</span><span class="delimiter">'</span></span>).show();
    },
    search() {
      <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">search</span><span class="delimiter">'</span></span>)(<span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">filter</span><span class="delimiter">'</span></span>));
    },
    choose(city) {
      <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">filter</span><span class="delimiter">'</span></span>, city);
      Ember.<span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">.menu .results</span><span class="delimiter">'</span></span>).hide();
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>There&#39;s a property for each of the <code>filter</code> and <code>filteredList</code>, and 
actions as described above. What&#39;s interesting is that only the <code>choose</code> 
action is defined by the component. The actual logic of each of the 
<code>autoComplete</code> and <code>search</code> actions are pulled from the component&#39;s 
properties, which  means that those actions need to be <a href="../../components/triggering-changes-with-actions/#toc_passing-the-action-to-the-component">passed</a> 
 in by the calling object, a pattern known as <em>closure actions</em>.</p>

<p>To see how this works, change your <code>application.hbs</code> template to look like this:</p>
<div class="highlight handlebars "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/templates/application.hbs</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">container</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">menu</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="inline"><span class="inline-delimiter">{{#</span><span class="attribute-name">link-to</span> <span class="error">'</span><span class="attribute-name">index</span><span class="error">'</span><span class="inline-delimiter">}}</span></span>
            <span class="tag">&lt;h1</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">left</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://emberjs.com/images/ember-logo.svg</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Ember Logo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;em&gt;</span>rentals<span class="tag">&lt;/em&gt;</span>
            <span class="tag">&lt;/h1&gt;</span>
        <span class="inline"><span class="inline-delimiter">{{/</span><span class="attribute-name">link-to</span><span class="inline-delimiter">}}</span></span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">left links</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="inline"><span class="inline-delimiter">{{#</span><span class="attribute-name">link-to</span> <span class="error">'</span><span class="attribute-name">about</span><span class="error">'</span><span class="inline-delimiter">}}</span></span>
                About
            <span class="inline"><span class="inline-delimiter">{{/</span><span class="attribute-name">link-to</span><span class="inline-delimiter">}}</span></span>
            <span class="inline"><span class="inline-delimiter">{{#</span><span class="attribute-name">link-to</span> <span class="error">'</span><span class="attribute-name">contact</span><span class="error">'</span><span class="inline-delimiter">}}</span></span>
                Contact
            <span class="inline"><span class="inline-delimiter">{{/</span><span class="attribute-name">link-to</span><span class="inline-delimiter">}}</span></span>
        <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">right relative</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
          <span class="inline"><span class="inline-delimiter">{{</span><span class="attribute-name">filter-listing</span> <span class="attribute-name">filteredList</span>=<span class="attribute-value">filteredList</span>
          <span class="attribute-name">autoComplete</span>=<span class="error">(</span><span class="attribute-value">action</span> <span class="error">'</span><span class="attribute-name">autoComplete</span><span class="error">'</span><span class="error">)</span> <span class="attribute-name">search</span>=<span class="error">(</span><span class="attribute-value">action</span> <span class="error">'</span><span class="attribute-name">search</span><span class="error">'</span><span class="error">)</span><span class="inline-delimiter">}}</span></span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="inline"><span class="inline-delimiter">{{</span><span class="attribute-name">outlet</span><span class="inline-delimiter">}}</span></span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span>
</pre></td>
</tr></table>
</div></div>
<p>We&#39;ve added the <code>filter-listing</code> component to our <code>application.hbs</code> template. We 
then pass in the functions and properties we want the <code>filter-listing</code> 
component to use, so that the application can define some of how it wants 
the component to behave, and so the component can use those specific 
functions and properties.</p>

<p>For this to work, we need to introduce a <code>controller</code> into our app. 
Generate a controller for the application by running the following:</p>
<div class="highlight shell "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>ember g controller application
</pre></td>
</tr></table>
</div></div>
<p>Now, define your new controller like so:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/controllers/application.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Controller.extend({
  <span class="key">filteredList</span>: <span class="predefined-constant">null</span>,
  <span class="key">indexController</span>: Ember.inject.controller(<span class="string"><span class="delimiter">'</span><span class="content">index</span><span class="delimiter">'</span></span>),
  <span class="key">actions</span>: {
    autoComplete(param) {
      <span class="keyword">if</span> (param !== <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>) {
        <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">store</span><span class="delimiter">'</span></span>).query(<span class="string"><span class="delimiter">'</span><span class="content">rental</span><span class="delimiter">'</span></span>, { <span class="key">city</span>: param }).then((result) =&gt; <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">filteredList</span><span class="delimiter">'</span></span>, result));
      } <span class="keyword">else</span> {
        <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">filteredList</span><span class="delimiter">'</span></span>, <span class="predefined-constant">null</span>);
      }
    },
    search(param) {
      <span class="keyword">if</span> (param !== <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>) {
        <span class="local-variable">this</span>.store.query(<span class="string"><span class="delimiter">'</span><span class="content">rental</span><span class="delimiter">'</span></span>, { <span class="key">city</span>: param }).then((result) =&gt; <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">indexController.model</span><span class="delimiter">'</span></span>, result));
      } <span class="keyword">else</span> {
        <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">store</span><span class="delimiter">'</span></span>).findAll(<span class="string"><span class="delimiter">'</span><span class="content">rental</span><span class="delimiter">'</span></span>).then((result) =&gt; <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">indexController.model</span><span class="delimiter">'</span></span>, result));
      }
    }
  }
});

</pre></td>
</tr></table>
</div></div>
<p>As you can see, we define a property in the controller called 
<code>filteredList</code>, that is referenced from within the <code>autoComplete</code> action.
 When the user types in the text field in our component, this is the 
 action that is called. This action filters the <code>rental</code> data to look for 
 records in data that match what the user has typed thus far. When this 
 action is executed, the result of the query is placed in the 
 <code>filteredList</code> property, which is used to populate the autocomplete list 
 in the component.</p>

<p>We also define a <code>search</code> action here that is passed in to the component,
 and called when the search button is clicked. This is slightly different
  in that the result of the query is actually used to update the <code>model</code> 
  of the <code>index</code> route, and that changes the full rental listing on the 
  page.</p>

<p>For these actions to work, we need to modify the Mirage <code>config.js</code> file 
to look like this, so that it can respond to our queries.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">mirage/config.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
31
32
33
34
35
36
37
38
39
<strong>40</strong>
41
42
43
44
45
46
47
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> <span class="keyword">function</span>() {
  <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">/rentals</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(db, request) {
    let rentals = [{
        <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">rentals</span><span class="delimiter">'</span></span>,
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">attributes</span>: {
          <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Grand Old Mansion</span><span class="delimiter">'</span></span>,
          <span class="key">owner</span>: <span class="string"><span class="delimiter">'</span><span class="content">Veruca Salt</span><span class="delimiter">'</span></span>,
          <span class="key">city</span>: <span class="string"><span class="delimiter">'</span><span class="content">San Francisco</span><span class="delimiter">'</span></span>,
          <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">Estate</span><span class="delimiter">'</span></span>,
          <span class="key">bedrooms</span>: <span class="integer">15</span>,
          <span class="key">image</span>: <span class="string"><span class="delimiter">'</span><span class="content">https://upload.wikimedia.org/wikipedia/commons/c/cb/Crane_estate_(5).jpg</span><span class="delimiter">'</span></span>
        }
      }, {
        <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">rentals</span><span class="delimiter">'</span></span>,
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">attributes</span>: {
          <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Urban Living</span><span class="delimiter">'</span></span>,
          <span class="key">owner</span>: <span class="string"><span class="delimiter">'</span><span class="content">Mike Teavee</span><span class="delimiter">'</span></span>,
          <span class="key">city</span>: <span class="string"><span class="delimiter">'</span><span class="content">Seattle</span><span class="delimiter">'</span></span>,
          <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">Condo</span><span class="delimiter">'</span></span>,
          <span class="key">bedrooms</span>: <span class="integer">1</span>,
          <span class="key">image</span>: <span class="string"><span class="delimiter">'</span><span class="content">https://upload.wikimedia.org/wikipedia/commons/0/0e/Alfonso_13_Highrise_Tegucigalpa.jpg</span><span class="delimiter">'</span></span>
        }
      }, {
        <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">rentals</span><span class="delimiter">'</span></span>,
        <span class="key">id</span>: <span class="integer">3</span>,
        <span class="key">attributes</span>: {
          <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Downtown Charm</span><span class="delimiter">'</span></span>,
          <span class="key">owner</span>: <span class="string"><span class="delimiter">'</span><span class="content">Violet Beauregarde</span><span class="delimiter">'</span></span>,
          <span class="key">city</span>: <span class="string"><span class="delimiter">'</span><span class="content">Portland</span><span class="delimiter">'</span></span>,
          <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">Apartment</span><span class="delimiter">'</span></span>,
          <span class="key">bedrooms</span>: <span class="integer">3</span>,
          <span class="key">image</span>: <span class="string"><span class="delimiter">'</span><span class="content">https://upload.wikimedia.org/wikipedia/commons/f/f7/Wheeldon_Apartment_Building_-_Portland_Oregon.jpg</span><span class="delimiter">'</span></span>
        }
      }];

    <span class="keyword">if</span>(request.queryParams.city !== <span class="predefined-constant">undefined</span>) {
      let filteredRentals = rentals.filter(<span class="keyword">function</span>(i) {
        <span class="keyword">return</span> i.attributes.city.toLowerCase().indexOf(request.queryParams.city.toLowerCase()) !== -<span class="integer">1</span>;
      });
      <span class="keyword">return</span> { <span class="key">data</span>: filteredRentals };
    } <span class="keyword">else</span> {
      <span class="keyword">return</span> { <span class="key">data</span>: rentals };
    }
  });
}
</pre></td>
</tr></table>
</div></div>
<p>With these changes, users can search for properties in a given city, with
 a search field that provides suggestions as they type.</p>



        
      <footer>
        <a class="previous-guide" href="../hbs-helper/">Handlebars Helper</a> <a class="next-guide" href="../deploying/">Deploying</a>
      </footer>
      
      </article>
    </main>

    <div class="footer">
  <div class="container">
    <div class="footer-info">
      Copyright 2016
      <a href="http://tilde.io">Tilde Inc.</a>
      <br>
      <a href="http://emberjs.com/team">Core Team</a> |
      <a href="http://emberjs.com/sponsors">Sponsors</a>
      <br>
      <a href="http://emberjs.com/security">Security</a> |
      <a href="http://emberjs.com/legal">Legal</a> |
      <a href="http://emberjs.com/logos">Logos</a>
      <br>
      <a href="http://emberjs.com/guidelines">Community Guidelines</a>
    </div>

    <div class="footer-statement">
      Ember.js is free, open source and always will be.
    </div>

    <div class="footer-social">
      <a href="http://twitter.com/emberjs"
        title="Twitter">
        <i class="icon-twitter"></i>
      </a>
      <a href="https://github.com/emberjs/ember.js"
        title="GitHub">
        <i class="icon-github"></i>
      </a>
      <a href="https://plus.google.com/communities/106387049790387471205"
        title="Google+">
        <i class="icon-gplus"></i>
      </a>
    </div>
  </div>
</div>


    

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
